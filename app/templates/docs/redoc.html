<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ api_title }} - ReDoc</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
        }
        .custom-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        .custom-header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .custom-header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .api-links {
            background: white;
            padding: 15px;
            margin: 0;
            border-bottom: 1px solid #e0e0e0;
            text-align: center;
        }
        .api-links h3 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 1.1em;
        }
        .api-links a {
            display: inline-block;
            margin: 5px 10px 5px 0;
            padding: 6px 12px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 13px;
        }
        .api-links a:hover {
            background: #2980b9;
        }
        .api-links a.active {
            background: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="custom-header">
        <h1>{{ api_title }}</h1>
        <p>Interactive API Documentation</p>
    </div>
    
    <div class="api-links">
        <h3>Documentation Formats</h3>
        <a href="/api/v1/docs/swagger">Swagger UI</a>
        <a href="/api/v1/docs/redoc" class="active">ReDoc</a>
        <a href="/api/v1/docs/openapi.yaml">OpenAPI YAML</a>
        <a href="/api/v1/docs/openapi.json">OpenAPI JSON</a>
        <a href="/api/v1/docs/postman">Postman Collection</a>
        <a href="/api/v1/docs/examples">API Examples</a>
        <a href="/api/v1/docs/integration-guide">Integration Guide</a>
        <a href="/api/v1/docs/tester">API Tester</a>
    </div>

    <redoc spec-url="{{ spec_url }}" 
           theme='{
               "colors": {
                   "primary": {
                       "main": "#2c3e50"
                   }
               },
               "typography": {
                   "fontSize": "14px",
                   "lineHeight": "1.5em",
                   "code": {
                       "fontSize": "13px"
                   },
                   "headings": {
                       "fontFamily": "Montserrat, sans-serif",
                       "fontWeight": "400"
                   }
               },
               "sidebar": {
                   "backgroundColor": "#fafafa",
                   "width": "260px"
               },
               "rightPanel": {
                   "backgroundColor": "#263238",
                   "width": "40%"
               }
           }'
           lazy-rendering
           native-scrollbars
           suppress-warnings
           hide-download-button>
    </redoc>

    <script src="https://cdn.redoc.ly/redoc/2.1.3/bundles/redoc.standalone.js"></script>
    
    <script>
        // Add some custom functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Add authentication helper info
            setTimeout(function() {
                const sidebar = document.querySelector('[data-section-id="section/Authentication"]');
                if (sidebar) {
                    const helpDiv = document.createElement('div');
                    helpDiv.style.cssText = `
                        background: #e8f4fd;
                        padding: 10px;
                        margin: 10px;
                        border-radius: 4px;
                        font-size: 12px;
                        border-left: 4px solid #3498db;
                    `;
                    helpDiv.innerHTML = `
                        <strong>Quick Start:</strong><br>
                        1. Register: POST /auth/register<br>
                        2. Login: POST /auth/login<br>
                        3. Use Bearer token in Authorization header
                    `;
                    
                    const authSection = document.querySelector('h2[data-section-id="tag/Authentication"]');
                    if (authSection && authSection.parentNode) {
                        authSection.parentNode.insertBefore(helpDiv, authSection.nextSibling);
                    }
                }
            }, 3000);
        });
    </script>
</body>
</html>