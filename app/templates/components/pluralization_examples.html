<!-- Pluralization Examples Component -->
<!-- This template demonstrates proper pluralization usage in different languages -->

<div class="pluralization-examples">
    <!-- Example 1: Simple count with pluralization -->
    <div class="example-section">
        <h6>{{ _('Message Count Examples') }}</h6>
        <div class="example-item" data-count="0">
            <span class="count">0</span> 
            <span class="text">{{ ngettext('message', 'messages', 0) }}</span>
        </div>
        <div class="example-item" data-count="1">
            <span class="count">1</span> 
            <span class="text">{{ ngettext('message', 'messages', 1) }}</span>
        </div>
        <div class="example-item" data-count="5">
            <span class="count">5</span> 
            <span class="text">{{ ngettext('message', 'messages', 5) }}</span>
        </div>
    </div>

    <!-- Example 2: Time-based pluralization -->
    <div class="example-section">
        <h6>{{ _('Time Examples') }}</h6>
        <div class="example-item">
            <span class="time-text">{{ ngettext('%(num)d minute ago', '%(num)d minutes ago', 1, num=1) }}</span>
        </div>
        <div class="example-item">
            <span class="time-text">{{ ngettext('%(num)d minute ago', '%(num)d minutes ago', 5, num=5) }}</span>
        </div>
        <div class="example-item">
            <span class="time-text">{{ ngettext('%(num)d hour ago', '%(num)d hours ago', 1, num=1) }}</span>
        </div>
        <div class="example-item">
            <span class="time-text">{{ ngettext('%(num)d hour ago', '%(num)d hours ago', 3, num=3) }}</span>
        </div>
    </div>

    <!-- Example 3: Complex pluralization with parameters -->
    <div class="example-section">
        <h6>{{ _('Complex Examples') }}</h6>
        <div class="example-item">
            <span class="complex-text">
                {{ ngettext('You have %(count)d unread message from %(sender)s', 
                           'You have %(count)d unread messages from %(sender)s', 
                           1, count=1, sender='John') }}
            </span>
        </div>
        <div class="example-item">
            <span class="complex-text">
                {{ ngettext('You have %(count)d unread message from %(sender)s', 
                           'You have %(count)d unread messages from %(sender)s', 
                           3, count=3, sender='Alice') }}
            </span>
        </div>
    </div>

    <!-- Example 4: Business domain pluralization -->
    <div class="example-section">
        <h6>{{ _('Business Examples') }}</h6>
        <div class="example-item">
            <span class="business-text">
                {{ ngettext('%(num)d active lead', '%(num)d active leads', 1, num=1) }}
            </span>
        </div>
        <div class="example-item">
            <span class="business-text">
                {{ ngettext('%(num)d active lead', '%(num)d active leads', 12, num=12) }}
            </span>
        </div>
        <div class="example-item">
            <span class="business-text">
                {{ ngettext('%(num)d appointment scheduled', '%(num)d appointments scheduled', 1, num=1) }}
            </span>
        </div>
        <div class="example-item">
            <span class="business-text">
                {{ ngettext('%(num)d appointment scheduled', '%(num)d appointments scheduled', 7, num=7) }}
            </span>
        </div>
    </div>
</div>

<!-- JavaScript helper for dynamic pluralization -->
<script>
// Dynamic pluralization helper that works with the backend
function dynamicPluralize(count, singularKey, pluralKey, params = {}) {
    // This would typically make an AJAX call to get the proper translation
    // For now, we'll use a simple client-side approach
    const translations = {
        'en': {
            'message': { singular: 'message', plural: 'messages' },
            'lead': { singular: 'lead', plural: 'leads' },
            'appointment': { singular: 'appointment', plural: 'appointments' },
            'minute_ago': { singular: 'minute ago', plural: 'minutes ago' },
            'hour_ago': { singular: 'hour ago', plural: 'hours ago' },
            'day_ago': { singular: 'day ago', plural: 'days ago' }
        },
        'de': {
            'message': { singular: 'Nachricht', plural: 'Nachrichten' },
            'lead': { singular: 'Lead', plural: 'Leads' },
            'appointment': { singular: 'Termin', plural: 'Termine' },
            'minute_ago': { singular: 'Minute her', plural: 'Minuten her' },
            'hour_ago': { singular: 'Stunde her', plural: 'Stunden her' },
            'day_ago': { singular: 'Tag her', plural: 'Tage her' }
        },
        'uk': {
            'message': { singular: 'повідомлення', plural: 'повідомлень' },
            'lead': { singular: 'лід', plural: 'ліди' },
            'appointment': { singular: 'зустріч', plural: 'зустрічі' },
            'minute_ago': { singular: 'хвилину тому', plural: 'хвилин тому' },
            'hour_ago': { singular: 'годину тому', plural: 'годин тому' },
            'day_ago': { singular: 'день тому', plural: 'днів тому' }
        }
    };
    
    const currentLang = '{{ get_current_language() }}';
    const langTranslations = translations[currentLang] || translations['en'];
    const translation = langTranslations[singularKey];
    
    if (!translation) return `${count} ${singularKey}`;
    
    const text = count === 1 ? translation.singular : translation.plural;
    
    // Replace parameters
    let result = `${count} ${text}`;
    for (const [key, value] of Object.entries(params)) {
        result = result.replace(new RegExp(`%\\(${key}\\)s`, 'g'), value);
    }
    
    return result;
}

// Example usage function
function updateDynamicCounts() {
    // This would be called when counts change dynamically
    const messageCount = 5;
    const leadCount = 12;
    
    document.querySelectorAll('.dynamic-count').forEach(element => {
        const type = element.dataset.type;
        const count = parseInt(element.dataset.count);
        
        switch (type) {
            case 'messages':
                element.textContent = dynamicPluralize(count, 'message');
                break;
            case 'leads':
                element.textContent = dynamicPluralize(count, 'lead');
                break;
            case 'appointments':
                element.textContent = dynamicPluralize(count, 'appointment');
                break;
        }
    });
}
</script>

<style>
.pluralization-examples {
    padding: 1rem;
    background-color: #f8f9fa;
    border-radius: 0.375rem;
    margin: 1rem 0;
}

.example-section {
    margin-bottom: 1.5rem;
}

.example-section h6 {
    color: #495057;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.example-item {
    padding: 0.5rem;
    margin: 0.25rem 0;
    background-color: white;
    border-radius: 0.25rem;
    border-left: 3px solid #007bff;
}

.count {
    font-weight: bold;
    color: #007bff;
}

.time-text, .complex-text, .business-text {
    color: #495057;
}
</style>